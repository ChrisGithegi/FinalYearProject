#!/bin/bash

mysql -uroot -proot --local_infile=1 -e "Use ANPR; CREATE TABLE traffic (id INT NOT NULL, UniqueID INT NOT NULL, Date DATE NOT NULL, Time TIME NOT NULL, Site INT NOT NULL, Type VARCHAR(50) NOT NULL, Make VARCHAR(50) NOT NULL, Generic_Model VARCHAR(50) NOT NULL, Fuel_Type VARCHAR(50) NOT NULL, Body_Type VARCHAR(50) NOT NULL, Body_Type_Detail VARCHAR(50) NOT NULL, Date_Reg VARCHAR(50) NOT NULL, co2 INT NOT NULL, Mass INT NOT NULL, Tier VARCHAR(10) NOT NULL); SET GLOBAL local_infile=1; LOAD DATA LOCAL INFILE '../data/ProcessedData.csv' INTO TABLE traffic FIELDS TERMINATED BY ',' LINES TERMINATED BY '\n' IGNORE 1 ROWS (id, UniqueID, @Date, Time, Site, Type, Make, Generic_Model, Fuel_Type, Body_Type, Body_Type_Detail, @Date_Reg, co2, Mass, Tier) SET Date = STR_TO_DATE(@Date, '%d/%m/%Y'), Date_Reg = STR_TO_DATE(@Date_Reg, '%Y-%m-%d');"
